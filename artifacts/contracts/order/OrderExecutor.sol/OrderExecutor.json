{
  "_format": "hh-sol-artifact-1",
  "contractName": "OrderExecutor",
  "sourceName": "contracts/order/OrderExecutor.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_traderVault",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_risePool",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_funding",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_market",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_positionHistory",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_positionVault",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_positionFee",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "funding",
      "outputs": [
        {
          "internalType": "contract Funding",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "market",
      "outputs": [
        {
          "internalType": "contract Market",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "positionFee",
      "outputs": [
        {
          "internalType": "contract PositionFee",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "positionHistory",
      "outputs": [
        {
          "internalType": "contract PositionHistory",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "positionVault",
      "outputs": [
        {
          "internalType": "contract PositionVault",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "risePool",
      "outputs": [
        {
          "internalType": "contract RisePool",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "isLong",
              "type": "bool"
            },
            {
              "internalType": "int256",
              "name": "unrealizedPnl",
              "type": "int256"
            },
            {
              "internalType": "uint256",
              "name": "currentPositionRecordId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "marketId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "size",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "margin",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "avgOpenPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "lastUpdatedTime",
              "type": "uint256"
            },
            {
              "internalType": "int256",
              "name": "avgEntryFundingIndex",
              "type": "int256"
            }
          ],
          "internalType": "struct OpenPosition",
          "name": "_position",
          "type": "tuple"
        },
        {
          "internalType": "bool",
          "name": "_isLong",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "_executionPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_sizeAbs",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_marginAbs",
          "type": "uint256"
        }
      ],
      "name": "settlePnL",
      "outputs": [
        {
          "internalType": "int256",
          "name": "",
          "type": "int256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "traderVault",
      "outputs": [
        {
          "internalType": "contract TraderVault",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5060405161093a38038061093a83398101604081905261002f916100cc565b600080546001600160a01b03199081166001600160a01b03998a1617909155600180548216978916979097179096556002805487169588169590951790945560038054861693871693909317909255600480548516918616919091179055600580548416918516919091179055600680549092169216919091179055610152565b80516001600160a01b03811681146100c757600080fd5b919050565b600080600080600080600060e0888a0312156100e757600080fd5b6100f0886100b0565b96506100fe602089016100b0565b955061010c604089016100b0565b945061011a606089016100b0565b9350610128608089016100b0565b925061013660a089016100b0565b915061014460c089016100b0565b905092959891949750929550565b6107d9806101616000396000f3fe608060405234801561001057600080fd5b50600436106100785760003560e01c80630dbc9ce11461007d57806351ed0ee3146100ad5780637411e99f146100c057806380f55605146100d357806398654aff146100e6578063b728ffbc146100f9578063c8a8da061461010c578063cb4c86b71461012d575b600080fd5b600654610090906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b600054610090906001600160a01b031681565b600154610090906001600160a01b031681565b600354610090906001600160a01b031681565b600554610090906001600160a01b031681565b600454610090906001600160a01b031681565b61011f61011a3660046105a8565b610140565b6040519081526020016100a4565b600254610090906001600160a01b031681565b600354604051633ec7919360e01b81526004810185905260009182916001600160a01b0390911690633ec791939060240161012060405180830381865afa15801561018f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101b39190610692565b60e0890151604051632d43eefb60e01b8152600481018790526024810191909152604481018890528815156064820152909150600090819073__$e8652f61bc11c22d415b40de743c60e742$__90632d43eefb90608401602060405180830381865af4158015610227573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061024b9190610710565b6000548b5160c086015160405163df486d1f60e01b81529394506001600160a01b039092169263df486d1f9261028692918a90600401610729565b600060405180830381600087803b1580156102a057600080fd5b505af11580156102b4573d6000803e3d6000fd5b50505050886103275760015460405163010b911f60e71b815260048101899052602481018890526001600160a01b03909116906385c88f8090604401600060405180830381600087803b15801561030a57600080fd5b505af115801561031e573d6000803e3d6000fd5b5050505061038d565b60015460405163b4faf0d360e01b815260048101899052602481018890526001600160a01b039091169063b4faf0d390604401600060405180830381600087803b15801561037457600080fd5b505af1158015610388573d6000803e3d6000fd5b505050505b60006103998383610760565b90506000811215610427576000548b5160c08601516001600160a01b0390921691630b665acb91906103d26103cd86610787565b6104ac565b6040518463ffffffff1660e01b81526004016103f093929190610729565b600060405180830381600087803b15801561040a57600080fd5b505af115801561041e573d6000803e3d6000fd5b5050505061049e565b6000548b5160c08601516001600160a01b039092169163df486d1f919061044d856104ac565b6040518463ffffffff1660e01b815260040161046b93929190610729565b600060405180830381600087803b15801561048557600080fd5b505af1158015610499573d6000803e3d6000fd5b505050505b9a9950505050505050505050565b6000808212156105025760405162461bcd60e51b815260206004820181905260248201527f53616665436173743a2076616c7565206d75737420626520706f736974697665604482015260640160405180910390fd5b5090565b604051610140810167ffffffffffffffff8111828210171561053857634e487b7160e01b600052604160045260246000fd5b60405290565b604051610120810167ffffffffffffffff8111828210171561053857634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811461058557600080fd5b50565b803561059381610570565b919050565b8035801515811461059357600080fd5b6000806000806000808688036101e08112156105c357600080fd5b610140808212156105d357600080fd5b6105db610506565b91506105e689610588565b82526105f460208a01610598565b602083015260408901356040830152606089013560608301526080890135608083015260a089013560a083015260c089013560c083015260e089013560e0830152610100808a01358184015250610120808a0135818401525081975061065b818a01610598565b979a97995050505061016086013595610180810135956101a082013595506101c0909101359350915050565b805161059381610570565b600061012082840312156106a557600080fd5b6106ad61053e565b825181526020830151602082015260408301516040820152606083015160608201526080830151608082015260a083015160a082015260c083015160c082015260e083015160e0820152610100610705818501610687565b908201529392505050565b60006020828403121561072257600080fd5b5051919050565b6001600160a01b039390931683526020830191909152604082015260600190565b634e487b7160e01b600052601160045260246000fd5b81810360008312801583831316838312821617156107805761078061074a565b5092915050565b6000600160ff1b820161079c5761079c61074a565b506000039056fea2646970667358221220e9763cfe40be7fb82d4f86af4d4b62aac8ae6dfa077e697a0bfb9136822c424064736f6c63430008120033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100785760003560e01c80630dbc9ce11461007d57806351ed0ee3146100ad5780637411e99f146100c057806380f55605146100d357806398654aff146100e6578063b728ffbc146100f9578063c8a8da061461010c578063cb4c86b71461012d575b600080fd5b600654610090906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b600054610090906001600160a01b031681565b600154610090906001600160a01b031681565b600354610090906001600160a01b031681565b600554610090906001600160a01b031681565b600454610090906001600160a01b031681565b61011f61011a3660046105a8565b610140565b6040519081526020016100a4565b600254610090906001600160a01b031681565b600354604051633ec7919360e01b81526004810185905260009182916001600160a01b0390911690633ec791939060240161012060405180830381865afa15801561018f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101b39190610692565b60e0890151604051632d43eefb60e01b8152600481018790526024810191909152604481018890528815156064820152909150600090819073__$e8652f61bc11c22d415b40de743c60e742$__90632d43eefb90608401602060405180830381865af4158015610227573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061024b9190610710565b6000548b5160c086015160405163df486d1f60e01b81529394506001600160a01b039092169263df486d1f9261028692918a90600401610729565b600060405180830381600087803b1580156102a057600080fd5b505af11580156102b4573d6000803e3d6000fd5b50505050886103275760015460405163010b911f60e71b815260048101899052602481018890526001600160a01b03909116906385c88f8090604401600060405180830381600087803b15801561030a57600080fd5b505af115801561031e573d6000803e3d6000fd5b5050505061038d565b60015460405163b4faf0d360e01b815260048101899052602481018890526001600160a01b039091169063b4faf0d390604401600060405180830381600087803b15801561037457600080fd5b505af1158015610388573d6000803e3d6000fd5b505050505b60006103998383610760565b90506000811215610427576000548b5160c08601516001600160a01b0390921691630b665acb91906103d26103cd86610787565b6104ac565b6040518463ffffffff1660e01b81526004016103f093929190610729565b600060405180830381600087803b15801561040a57600080fd5b505af115801561041e573d6000803e3d6000fd5b5050505061049e565b6000548b5160c08601516001600160a01b039092169163df486d1f919061044d856104ac565b6040518463ffffffff1660e01b815260040161046b93929190610729565b600060405180830381600087803b15801561048557600080fd5b505af1158015610499573d6000803e3d6000fd5b505050505b9a9950505050505050505050565b6000808212156105025760405162461bcd60e51b815260206004820181905260248201527f53616665436173743a2076616c7565206d75737420626520706f736974697665604482015260640160405180910390fd5b5090565b604051610140810167ffffffffffffffff8111828210171561053857634e487b7160e01b600052604160045260246000fd5b60405290565b604051610120810167ffffffffffffffff8111828210171561053857634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811461058557600080fd5b50565b803561059381610570565b919050565b8035801515811461059357600080fd5b6000806000806000808688036101e08112156105c357600080fd5b610140808212156105d357600080fd5b6105db610506565b91506105e689610588565b82526105f460208a01610598565b602083015260408901356040830152606089013560608301526080890135608083015260a089013560a083015260c089013560c083015260e089013560e0830152610100808a01358184015250610120808a0135818401525081975061065b818a01610598565b979a97995050505061016086013595610180810135956101a082013595506101c0909101359350915050565b805161059381610570565b600061012082840312156106a557600080fd5b6106ad61053e565b825181526020830151602082015260408301516040820152606083015160608201526080830151608082015260a083015160a082015260c083015160c082015260e083015160e0820152610100610705818501610687565b908201529392505050565b60006020828403121561072257600080fd5b5051919050565b6001600160a01b039390931683526020830191909152604082015260600190565b634e487b7160e01b600052601160045260246000fd5b81810360008312801583831316838312821617156107805761078061074a565b5092915050565b6000600160ff1b820161079c5761079c61074a565b506000039056fea2646970667358221220e9763cfe40be7fb82d4f86af4d4b62aac8ae6dfa077e697a0bfb9136822c424064736f6c63430008120033",
  "linkReferences": {
    "contracts/position/PnlUtils.sol": {
      "PnlUtils": [
        {
          "length": 20,
          "start": 846
        }
      ]
    }
  },
  "deployedLinkReferences": {
    "contracts/position/PnlUtils.sol": {
      "PnlUtils": [
        {
          "length": 20,
          "start": 493
        }
      ]
    }
  }
}
