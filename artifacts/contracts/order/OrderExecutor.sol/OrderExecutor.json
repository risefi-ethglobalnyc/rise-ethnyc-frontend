{
  "_format": "hh-sol-artifact-1",
  "contractName": "OrderExecutor",
  "sourceName": "contracts/order/OrderExecutor.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_traderVault",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_risePool",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_market",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_positionHistory",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_positionVault",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "market",
      "outputs": [
        {
          "internalType": "contract Market",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "positionHistory",
      "outputs": [
        {
          "internalType": "contract PositionHistory",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "positionVault",
      "outputs": [
        {
          "internalType": "contract PositionVault",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "risePool",
      "outputs": [
        {
          "internalType": "contract RisePool",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "isLong",
              "type": "bool"
            },
            {
              "internalType": "int256",
              "name": "unrealizedPnl",
              "type": "int256"
            },
            {
              "internalType": "uint256",
              "name": "currentPositionRecordId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "marketId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "size",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "margin",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "avgOpenPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "lastUpdatedTime",
              "type": "uint256"
            },
            {
              "internalType": "int256",
              "name": "avgEntryFundingIndex",
              "type": "int256"
            }
          ],
          "internalType": "struct OpenPosition",
          "name": "_position",
          "type": "tuple"
        },
        {
          "internalType": "bool",
          "name": "_isLong",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "_executionPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_marketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_sizeAbs",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_marginAbs",
          "type": "uint256"
        }
      ],
      "name": "settlePnL",
      "outputs": [
        {
          "internalType": "int256",
          "name": "",
          "type": "int256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "traderVault",
      "outputs": [
        {
          "internalType": "contract TraderVault",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5060405161087d38038061087d83398101604081905261002f916100ad565b600080546001600160a01b03199081166001600160a01b03978816179091556001805482169587169590951790945560028054851693861693909317909255600380548416918516919091179055600480549092169216919091179055610112565b80516001600160a01b03811681146100a857600080fd5b919050565b600080600080600060a086880312156100c557600080fd5b6100ce86610091565b94506100dc60208701610091565b93506100ea60408701610091565b92506100f860608701610091565b915061010660808701610091565b90509295509295909350565b61075c806101216000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806351ed0ee3146100675780637411e99f1461009757806380f55605146100aa57806398654aff146100bd578063b728ffbc146100d0578063c8a8da06146100e3575b600080fd5b60005461007a906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b60015461007a906001600160a01b031681565b60025461007a906001600160a01b031681565b60045461007a906001600160a01b031681565b60035461007a906001600160a01b031681565b6100f66100f136600461055a565b610104565b60405190815260200161008e565b600254604051633ec7919360e01b81526004810185905260009182916001600160a01b0390911690633ec791939060240161012060405180830381865afa158015610153573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101779190610644565b60e0890151604051632d43eefb60e01b815260048101879052602481019190915260448101889052881515606482015290915060009073__$e8652f61bc11c22d415b40de743c60e742$__90632d43eefb90608401602060405180830381865af41580156101e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020d91906106c2565b6000548a5160c085015160405163df486d1f60e01b81529394506001600160a01b039092169263df486d1f92610248929189906004016106db565b600060405180830381600087803b15801561026257600080fd5b505af1158015610276573d6000803e3d6000fd5b50505050876102e95760015460405163010b911f60e71b815260048101889052602481018790526001600160a01b03909116906385c88f8090604401600060405180830381600087803b1580156102cc57600080fd5b505af11580156102e0573d6000803e3d6000fd5b5050505061034f565b60015460405163b4faf0d360e01b815260048101889052602481018790526001600160a01b039091169063b4faf0d390604401600060405180830381600087803b15801561033657600080fd5b505af115801561034a573d6000803e3d6000fd5b505050505b60008112156103db57600054895160c08401516001600160a01b0390921691630b665acb9190610386610381866106fc565b61045e565b6040518463ffffffff1660e01b81526004016103a4939291906106db565b600060405180830381600087803b1580156103be57600080fd5b505af11580156103d2573d6000803e3d6000fd5b50505050610452565b600054895160c08401516001600160a01b039092169163df486d1f91906104018561045e565b6040518463ffffffff1660e01b815260040161041f939291906106db565b600060405180830381600087803b15801561043957600080fd5b505af115801561044d573d6000803e3d6000fd5b505050505b98975050505050505050565b6000808212156104b45760405162461bcd60e51b815260206004820181905260248201527f53616665436173743a2076616c7565206d75737420626520706f736974697665604482015260640160405180910390fd5b5090565b604051610140810167ffffffffffffffff811182821017156104ea57634e487b7160e01b600052604160045260246000fd5b60405290565b604051610120810167ffffffffffffffff811182821017156104ea57634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811461053757600080fd5b50565b803561054581610522565b919050565b8035801515811461054557600080fd5b6000806000806000808688036101e081121561057557600080fd5b6101408082121561058557600080fd5b61058d6104b8565b91506105988961053a565b82526105a660208a0161054a565b602083015260408901356040830152606089013560608301526080890135608083015260a089013560a083015260c089013560c083015260e089013560e0830152610100808a01358184015250610120808a0135818401525081975061060d818a0161054a565b979a97995050505061016086013595610180810135956101a082013595506101c0909101359350915050565b805161054581610522565b6000610120828403121561065757600080fd5b61065f6104f0565b825181526020830151602082015260408301516040820152606083015160608201526080830151608082015260a083015160a082015260c083015160c082015260e083015160e08201526101006106b7818501610639565b908201529392505050565b6000602082840312156106d457600080fd5b5051919050565b6001600160a01b039390931683526020830191909152604082015260600190565b6000600160ff1b820161071f57634e487b7160e01b600052601160045260246000fd5b506000039056fea26469706673582212209b7805e33ac6f59d1626709bbbb81601269e2bb8caa97de7fa05775e434f4cee64736f6c63430008120033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c806351ed0ee3146100675780637411e99f1461009757806380f55605146100aa57806398654aff146100bd578063b728ffbc146100d0578063c8a8da06146100e3575b600080fd5b60005461007a906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b60015461007a906001600160a01b031681565b60025461007a906001600160a01b031681565b60045461007a906001600160a01b031681565b60035461007a906001600160a01b031681565b6100f66100f136600461055a565b610104565b60405190815260200161008e565b600254604051633ec7919360e01b81526004810185905260009182916001600160a01b0390911690633ec791939060240161012060405180830381865afa158015610153573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101779190610644565b60e0890151604051632d43eefb60e01b815260048101879052602481019190915260448101889052881515606482015290915060009073__$e8652f61bc11c22d415b40de743c60e742$__90632d43eefb90608401602060405180830381865af41580156101e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020d91906106c2565b6000548a5160c085015160405163df486d1f60e01b81529394506001600160a01b039092169263df486d1f92610248929189906004016106db565b600060405180830381600087803b15801561026257600080fd5b505af1158015610276573d6000803e3d6000fd5b50505050876102e95760015460405163010b911f60e71b815260048101889052602481018790526001600160a01b03909116906385c88f8090604401600060405180830381600087803b1580156102cc57600080fd5b505af11580156102e0573d6000803e3d6000fd5b5050505061034f565b60015460405163b4faf0d360e01b815260048101889052602481018790526001600160a01b039091169063b4faf0d390604401600060405180830381600087803b15801561033657600080fd5b505af115801561034a573d6000803e3d6000fd5b505050505b60008112156103db57600054895160c08401516001600160a01b0390921691630b665acb9190610386610381866106fc565b61045e565b6040518463ffffffff1660e01b81526004016103a4939291906106db565b600060405180830381600087803b1580156103be57600080fd5b505af11580156103d2573d6000803e3d6000fd5b50505050610452565b600054895160c08401516001600160a01b039092169163df486d1f91906104018561045e565b6040518463ffffffff1660e01b815260040161041f939291906106db565b600060405180830381600087803b15801561043957600080fd5b505af115801561044d573d6000803e3d6000fd5b505050505b98975050505050505050565b6000808212156104b45760405162461bcd60e51b815260206004820181905260248201527f53616665436173743a2076616c7565206d75737420626520706f736974697665604482015260640160405180910390fd5b5090565b604051610140810167ffffffffffffffff811182821017156104ea57634e487b7160e01b600052604160045260246000fd5b60405290565b604051610120810167ffffffffffffffff811182821017156104ea57634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811461053757600080fd5b50565b803561054581610522565b919050565b8035801515811461054557600080fd5b6000806000806000808688036101e081121561057557600080fd5b6101408082121561058557600080fd5b61058d6104b8565b91506105988961053a565b82526105a660208a0161054a565b602083015260408901356040830152606089013560608301526080890135608083015260a089013560a083015260c089013560c083015260e089013560e0830152610100808a01358184015250610120808a0135818401525081975061060d818a0161054a565b979a97995050505061016086013595610180810135956101a082013595506101c0909101359350915050565b805161054581610522565b6000610120828403121561065757600080fd5b61065f6104f0565b825181526020830151602082015260408301516040820152606083015160608201526080830151608082015260a083015160a082015260c083015160c082015260e083015160e08201526101006106b7818501610639565b908201529392505050565b6000602082840312156106d457600080fd5b5051919050565b6001600160a01b039390931683526020830191909152604082015260600190565b6000600160ff1b820161071f57634e487b7160e01b600052601160045260246000fd5b506000039056fea26469706673582212209b7805e33ac6f59d1626709bbbb81601269e2bb8caa97de7fa05775e434f4cee64736f6c63430008120033",
  "linkReferences": {
    "contracts/position/PnlUtils.sol": {
      "PnlUtils": [
        {
          "length": 20,
          "start": 720
        }
      ]
    }
  },
  "deployedLinkReferences": {
    "contracts/position/PnlUtils.sol": {
      "PnlUtils": [
        {
          "length": 20,
          "start": 431
        }
      ]
    }
  }
}
